


  <div class="container-fluid">
    <h1>User Registration Form</h1>
    <form [formGroup]="registrationForm">
      <div class="form-group">
        <label>UserName</label>
        <input [class.is-invalid]="registrationForm.get('username')?.invalid && registrationForm.get('username')?.touched" formControlName="username" type="text" class="form-control">
        <div *ngIf="registrationForm.get('username')?.invalid && registrationForm.get('username')?.touched">
          <small *ngIf="registrationForm.get('username')?.errors?.['required']" class="text-danger">
            Username is required!
          </small>
          <small *ngIf="registrationForm.get('username')?.errors?.['minlength']" class="text-danger">
            Length of username should be greater than 4 characters!
          </small>
          <small *ngIf="registrationForm.get('username')?.errors?.['forbiddenname']" class="text-danger">
            {{registrationForm.get('username')?.errors?.['forbiddenname'].value}} username is not allowed!
          </small>

        </div>
      </div>
      
      <!-- <div class="form-group">
        <label>Email</label>
        <input formControlName="email"  type="password" class="form-control">
      </div> -->


      <div class="form-group">
        <label>Password</label>
        <input [class.is-invalid]="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched" formControlName="password"  type="password" class="form-control">
        <div *ngIf="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched" >
        <small *ngIf="registrationForm.get('password')?.errors?.['required']" class="text-danger">
          Password is required!
        </small>
        <small *ngIf="registrationForm.get('password')?.errors?.['minlength']" class="text-danger">
          Length of username should be greater than 8 characters!
        </small>
      </div>
      </div>

      <div class="form-group">
        <label>Confirm Password</label>
        <input [class.is-invalid]="registrationForm.errors?.['mismatch'] && registrationForm.get('confirmpassword')?.dirty" formControlName="confirmpassword" type="password" class="form-control">
        <small *ngIf="registrationForm.errors?.['mismatch'] && registrationForm.get('confirmpassword')?.dirty" class="text-danger">
          Passwords do not match. Enter same passwords!

        </small>
      </div>

      <div formGroupName="address">

        <div class="form-group">
          <label>City</label>
          <input formControlName="city" type="text" class="form-control">
        </div>
  
        <div class="form-group">
          <label>State</label>
          <input formControlName="state" type="text" class="form-control">
        </div>
  
        <div class="form-group">
          <label>Postal Code</label>
          <input formControlName="postalcode" type="number" class="form-control">
        </div>

        

      </div>

      <div class="form-group">
        <label>Age</label>
        <select class="custom-select" name="ages" formControlName="age" class="form-control" >
          <option value="">My age is:</option>
          <option *ngFor="let age of ages">{{age}}</option>
        </select>
        
      </div>  

      <button  (click)="onSubmit()" [disabled]="registrationForm.invalid" class="btn btn-primary">Submit Form</button>
      
      <button (click)="loadApiData()" class="btn btn-secondary">Load API data</button>

      <!-- {{registrationForm.value|json}} -->

    </form>
    <h1>Display Submission</h1>
    <p>Username:{{Username}}</p>
    <p>Password:{{Password}}</p>
    <p>Confirm Password:{{Confirmpassword}}</p>
    <p>City:{{City}}</p>
    <p>State:{{State}}</p>
    <p>Postal Code:{{Postalcode}}</p>
    <p>Age:{{Age}}</p>
    


  </div>
